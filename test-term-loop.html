<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è©å½™è½‰æ›æ¸¬è©¦</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            line-height: 1.8;
        }
        .test-case {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #007bff;
            border-radius: 4px;
        }
        .test-title {
            color: #007bff;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .original {
            background: #fff3cd;
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
        }
        .expected {
            background: #d4edda;
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
        }
        .actual {
            background: #cce5ff;
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
            font-weight: bold;
        }
        button {
            padding: 10px 20px;
            margin: 10px 5px;
            cursor: pointer;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
        }
        button:hover {
            background: #218838;
        }
        .warning {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            color: #721c24;
        }
        h1 {
            color: #343a40;
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
        }
        .label {
            font-weight: bold;
            color: #495057;
        }
    </style>
</head>
<body>
    <h1>ğŸ”¬ è©å½™è½‰æ›å¾ªç’°æ¸¬è©¦</h1>

    <div class="warning">
        <strong>âš ï¸ æ¸¬è©¦ç›®çš„ï¼š</strong>
        ç¢ºä¿è½‰æ›å¾Œçš„è©å½™ï¼ˆå¦‚ã€Œæ¼”ç®—æ³•ã€ï¼‰ä¸æœƒè¢«å†æ¬¡è½‰æ›æˆå…¶ä»–è©å½™ã€‚
    </div>

    <div class="test-case">
        <div class="test-title">æ¸¬è©¦ 1ï¼šåŸºæœ¬è½‰æ› - ç®—æ³• â†’ æ¼”ç®—æ³•</div>
        <div class="original"><span class="label">åŸå§‹ï¼š</span><span id="test1-original">è¿™æ˜¯ä¸€ä¸ªç®—æ³•</span></div>
        <div class="expected"><span class="label">é æœŸï¼š</span>é€™æ˜¯ä¸€å€‹æ¼”ç®—æ³•</div>
        <div class="actual"><span class="label">å¯¦éš›ï¼š</span><span id="test1-actual"></span></div>
        <button onclick="runTest1()">åŸ·è¡Œæ¸¬è©¦</button>
    </div>

    <div class="test-case">
        <div class="test-title">æ¸¬è©¦ 2ï¼šè¤‡åˆè©è½‰æ› - ç®—æ³•è¤‡é›œåº¦ â†’ æ¼”ç®—æ³•è¤‡é›œåº¦</div>
        <div class="original"><span class="label">åŸå§‹ï¼š</span><span id="test2-original">ç®—æ³•å¤æ‚åº¦å¾ˆé«˜</span></div>
        <div class="expected"><span class="label">é æœŸï¼š</span>æ¼”ç®—æ³•è¤‡é›œåº¦å¾ˆé«˜</div>
        <div class="actual"><span class="label">å¯¦éš›ï¼š</span><span id="test2-actual"></span></div>
        <button onclick="runTest2()">åŸ·è¡Œæ¸¬è©¦</button>
    </div>

    <div class="test-case">
        <div class="test-title">æ¸¬è©¦ 3ï¼šå·²è½‰æ›å…§å®¹ä¸æ‡‰å†æ¬¡è½‰æ›</div>
        <div class="original"><span class="label">åŸå§‹ï¼š</span><span id="test3-original">æ¼”ç®—æ³•</span></div>
        <div class="expected"><span class="label">é æœŸï¼š</span>æ¼”ç®—æ³•ï¼ˆä¸è®Šï¼‰</div>
        <div class="actual"><span class="label">å¯¦éš›ï¼š</span><span id="test3-actual"></span></div>
        <button onclick="runTest3()">åŸ·è¡Œæ¸¬è©¦</button>
    </div>

    <div class="test-case">
        <div class="test-title">æ¸¬è©¦ 4ï¼šé€£çºŒæ›´æ–°æ¸¬è©¦ï¼ˆæœ€é—œéµï¼‰</div>
        <div class="original"><span class="label">åŸå§‹ï¼š</span>ç®—æ³•</div>
        <div class="expected"><span class="label">é æœŸï¼š</span>æ¼”ç®—æ³•ï¼ˆä¸æ‡‰è®Šæˆã€Œæ¼”æ¼”ç®—æ³•ã€ï¼‰</div>
        <div class="actual"><span class="label">å¯¦éš›ï¼š</span><span id="test4-actual">ç®—æ³•</span></div>
        <button onclick="updateTest4()">æ›´æ–°å…§å®¹ (æ¨¡æ“¬ DOM è®ŠåŒ–)</button>
        <button onclick="checkTest4()">æª¢æŸ¥ç•¶å‰å…§å®¹</button>
        <div style="margin-top: 10px; font-size: 14px; color: #6c757d;">
            é»æ“Šã€Œæ›´æ–°å…§å®¹ã€æŒ‰éˆ•å¤šæ¬¡ï¼Œç„¶å¾Œé»æ“Šã€Œæª¢æŸ¥ç•¶å‰å…§å®¹ã€æŸ¥çœ‹çµæœ
        </div>
    </div>

    <div class="test-case">
        <div class="test-title">æ¸¬è©¦ 5ï¼šå‹•æ…‹æ–°å¢å·²è½‰æ›å…§å®¹</div>
        <div id="test5-container"></div>
        <button onclick="addConvertedContent()">æ–°å¢ã€Œæ¼”ç®—æ³•ã€å…§å®¹</button>
        <div style="margin-top: 10px; font-size: 14px; color: #6c757d;">
            æ–°å¢çš„ã€Œæ¼”ç®—æ³•ã€ä¸æ‡‰è©²è¢«å†æ¬¡è½‰æ›
        </div>
    </div>

    <script>
        function runTest1() {
            const elem = document.getElementById('test1-actual');
            const original = document.getElementById('test1-original');
            elem.textContent = original.textContent;
            setTimeout(() => {
                document.getElementById('test1-actual').textContent =
                    document.getElementById('test1-original').textContent;
            }, 500);
        }

        function runTest2() {
            const elem = document.getElementById('test2-actual');
            const original = document.getElementById('test2-original');
            elem.textContent = original.textContent;
            setTimeout(() => {
                document.getElementById('test2-actual').textContent =
                    document.getElementById('test2-original').textContent;
            }, 500);
        }

        function runTest3() {
            const elem = document.getElementById('test3-actual');
            const original = document.getElementById('test3-original');
            elem.textContent = original.textContent;
            setTimeout(() => {
                document.getElementById('test3-actual').textContent =
                    document.getElementById('test3-original').textContent;
            }, 500);
        }

        let updateCount = 0;
        function updateTest4() {
            const elem = document.getElementById('test4-actual');
            updateCount++;
            elem.textContent = 'ç®—æ³• (æ›´æ–°æ¬¡æ•¸: ' + updateCount + ')';
        }

        function checkTest4() {
            const elem = document.getElementById('test4-actual');
            alert('ç•¶å‰å…§å®¹: ' + elem.textContent + '\n\nå¦‚æœçœ‹åˆ°ã€Œæ¼”æ¼”ç®—æ³•ã€æˆ–æ›´å¤šé‡è¤‡ï¼Œå‰‡æ¸¬è©¦å¤±æ•—ï¼');
        }

        let addCount = 0;
        function addConvertedContent() {
            const container = document.getElementById('test5-container');
            const div = document.createElement('div');
            div.style.cssText = 'background: #e7f3ff; padding: 10px; margin: 5px 0; border-radius: 3px;';
            div.textContent = 'æ–°å¢å…§å®¹ ' + (++addCount) + ': æ¼”ç®—æ³•';
            container.appendChild(div);

            setTimeout(() => {
                console.log('æª¢æŸ¥æ–°å¢å…§å®¹:', div.textContent);
            }, 1000);
        }

        // é é¢è¼‰å…¥å¾ŒåŸ·è¡Œè‡ªå‹•æ¸¬è©¦
        window.addEventListener('load', () => {
            console.log('%c=== è‡ªå‹•æ¸¬è©¦é–‹å§‹ ===', 'color: blue; font-weight: bold; font-size: 16px;');
            setTimeout(() => {
                console.log('æ¸¬è©¦ 1: åŸºæœ¬è½‰æ›');
                runTest1();
            }, 1000);

            setTimeout(() => {
                console.log('æ¸¬è©¦ 2: è¤‡åˆè©è½‰æ›');
                runTest2();
            }, 2000);

            setTimeout(() => {
                console.log('æ¸¬è©¦ 3: å·²è½‰æ›å…§å®¹');
                runTest3();
            }, 3000);

            setTimeout(() => {
                console.log('%c=== è‡ªå‹•æ¸¬è©¦å®Œæˆï¼Œè«‹æª¢æŸ¥çµæœ ===', 'color: green; font-weight: bold; font-size: 16px;');
            }, 4000);
        });
    </script>

    <!-- è¼‰å…¥ OpenCC å‡½å¼åº« -->
    <script src="https://cdn.jsdelivr.net/npm/opencc-js@1.0.5/dist/umd/full.js"></script>

    <script>
        console.log('ğŸ§ª æ¸¬è©¦é é¢å·²è¼‰å…¥');
        console.log('è«‹ç¢ºä¿ Tampermonkey è…³æœ¬ã€Œå¤šå¥‡ä¸­æ–‡ç°¡ç¹è½‰æ›å¤§å¸«ã€å·²å•Ÿç”¨');
        console.log('æ‰“é–‹ DevTools Console æŸ¥çœ‹è©³ç´°æ¸¬è©¦çµæœ');
    </script>
</body>
</html>
